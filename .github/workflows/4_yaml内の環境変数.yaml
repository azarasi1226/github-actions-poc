name: yaml Environment Variables
on: push
env:
  GLOBAL_ENV: グローバルレベルの環境変数
jobs:
  run:
    runs-on: ubuntu-latest
    env:
      JOB_LEVEL_ENV: ジョブレベルの環境変数
      BRANCH_NAME: main
    steps:
      # これはシェルスクリプトの書き方。コマンドの結果ログの時点で展開される。
      - run: echo ${JOB_LEVEL_ENV}
      # この書き方だと、コマンドのログの時点で展開されてる。
      - run: echo ${{env.JOB_LEVEL_ENV}}
      - uses: actions/checkout@v4
        with:
         # yamlというかgithub actionsではシェルのように環境変数の展開が使えない
         # だからめんどいけど、こうやって参照する
          ref: ${{env.RANCH_NAME}}